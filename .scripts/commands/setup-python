#!/usr/bin/env bash
set -e

# User
source "$HOME/.scripts/sources/user.sh"

# Pip
if ! command_exists "pip"; then
    echo -e "\nInstalling pip"
    pushd "$HOME/Downloads"
    down https://bootstrap.pypa.io/get-pip.py
    chmod +x ./get-pip.py
    ./get-pip.py
    popd
fi

# Helper
function pipinstall {
	for ARG in "$@"; do
		pip install --upgrade "$ARG"
	done
}

echo -e "\nInstalling packages"
if test -n "$PYTHON_INSTALL"; then
	# shellcheck disable=SC2086
	pipinstall pip $PYTHON_INSTALL
fi