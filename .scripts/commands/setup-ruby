#!/usr/bin/env bash
set -e

# Check
if ! command_exists gem; then
	echo -e '\nRuby (gem) does not seem to be installed...'
	exit
fi

# User
source "$HOME/.scripts/sources/user.sh"

# Helper
function geminstall {
	for ARG in "$@"; do
		echo "GEM INSTALL: $ARG"
		gem install "$ARG" --pre
	done
}

echo -e '\nUpdating ruby gems...'
gem update --system

echo -e '\nInstalling ruby gems...'
if test -n "$RUBY_INSTALL"; then
	geminstall "${RUBY_INSTALL[@]}"
fi
